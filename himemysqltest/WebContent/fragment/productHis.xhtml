<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

  <h:form id="formProductHis">
    
      <p:panelGrid columns="6">
          <p:calendar id="popupButtonCal1" value="#{basedateBean.stDate}" showButtonPanel="true" pattern="yyyy/MM/dd"
            navigator="true">
            <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form)" />
          </p:calendar>
          <h:outputText value="~" />
          <p:calendar id="popupButtonCal2" value="#{basedateBean.endDate}" showButtonPanel="true" pattern="yyyy/MM/dd"
            navigator="true">
            <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form)" />
          </p:calendar>
        <p:outputLabel value="#{messages.viewDetailColumn}" />  
        <p:selectOneMenu value="#{configAction.selectRiskMeasureGroup}" style="width:200px" onchange="" >
              <s:selectItems value="#{riskMeasureGroupMap.keySet()}" var="_group" label="#{riskMeasureGroupMap.get(_group)}"/>
              <s:convertEnum/>
        </p:selectOneMenu>  
        <h:commandLink style="float:right;">
          <p:graphicImage value="/img/primefaces/csv.png" />
          <p:dataExporter type="csv" target="dataTableProductHis" fileName="ProductHis" />
        </h:commandLink>
      </p:panelGrid>
    

    <p:dataTable id="dataTableProductHis" value="#{marketVariableHisList}" var="_productHis"
      emptyMessage="No History Data found with given criteria" resizableColumns="true" paginator="true"
      paginatorPosition="bottom" rows="15"
      paginatorTemplate="{FirstPageLink} {PreviousPageLink} {JumpToPageDropdown} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
      rowsPerPageTemplate="15,25,50">
      <p:column id="colBssd" headerText="#{messages.bssd}" sortBy="#{_productHis.bssd}" width="100">
        <h:outputText value="#{_productHis.bssd}" />
      </p:column>

      <!-- <p:column id="colMvId" headerText="#{messages.productId}" sortBy="#{_productHis.mvId}">
        <h:outputText value="#{_productHis.mvId}" />
      </p:column> -->
      <!--        <p:column id="colMvType" headerText="#{messages.productType}" sortBy="#{_productHis.mvType}">
        <h:outputText value="#{_productHis.mvType}" />
      </p:column> -->

      <p:column id="colMvName" headerText="#{messages.productName}" sortBy="#{_productHis.mvName}" width="100">
        <h:outputText value="#{_productHis.mvName}" />
      </p:column>

      <p:column id="colCurrentPrice" headerText="#{messages.currentPrice}" sortBy="#{_productHis.currentPrice}"
        width="100">
        <h:outputText value="#{_productHis.currentPrice}" style="float:right">
          <f:convertNumber pattern="#,###.##" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>

      <p:column id="colVolume" headerText="#{messages.volume}" sortBy="#{_productHis.volume}" width="100">
        <h:outputText value="#{_productHis.volume}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>

      <p:column id="colVolumeAmt" headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>





      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>
      <p:column headerText="#{messages.volumeAmount}" sortBy="#{_productHis.volumeAmt}" width="100">
        <h:outputText value="#{_productHis.volumeAmt}" style="float:right">
          <f:convertNumber pattern="#,###" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:column>


      <!-- <p:column id="colAdjDuration" headerText="#{messages.adjustDuration}"  >
        <h:outputText value="#{_productHis.adjDuration}" style="float:right" >
         <f:convertNumber  pattern="#,###.##"/> 
        <f:convertNumber  pattern="\u00A4#,##0"/>
        </h:outputText>
      </p:column>
      
      <p:column id="colMdDuration" headerText="#{messages.modifiedDuration}" sortBy="#{_productHis.mdDuration}" >
        <h:outputText value="#{_productHis.mdDuration}" style="float:right">
         <f:convertNumber  pattern="#,###.##"/> 
        <f:convertNumber  pattern="\u00A4#,##0"/>
        </h:outputText>
      </p:column> -->

      <p:columns value="#{configAction.productHisColumns}" var="column" columnIndexVar="colIndex"
        sortBy="#{_productHis[column.property]}">
        <f:facet name="header">  
                #{column.header}  
         </f:facet>
        <h:outputText value="#{_productHis[column.property]}" style="float:right">
          <f:convertNumber pattern="#,###.##" />
          <!-- <f:convertNumber  pattern="\u00A4#,##0"/> -->
        </h:outputText>
      </p:columns>


      <f:facet name="header">
        <!--         <p:calendar id="popupButtonCal1" value="#{basedateBean.stDate}" showButtonPanel="true" pattern="yyyy/MM/dd"
          navigator="true"   style="float: left">
          <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form)" />
        </p:calendar>
        <h:outputText value="~" style="float: left"/>
        <p:calendar id="popupButtonCal2" value="#{basedateBean.endDate}" showButtonPanel="true" pattern="yyyy/MM/dd"
          navigator="true"   style="float: left">
        <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form)" />
        </p:calendar>

        <h:commandLink style="float: right">
          <p:graphicImage value="/img/primefaces/csv.png" />
          <p:dataExporter type="csv" target="dataTableProductHis" fileName="ProductHis" />
        </h:commandLink> -->
      </f:facet>
    </p:dataTable>
  </h:form>
</ui:composition>