<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui"
  xmlns:s="http://jboss.org/schema/seam/taglib">
  <h:form id="formToolbar">
    <p:growl id="growl" showDetail="true" />
    <!-- <p:tooltip /> -->
    <!-- <p:menubar style="background-color:rgb(190, 214, 248); border:none;  height:53px; opacity=0.2"> -->
    <!-- <p:menubar autoDisplay="false" style="border:none; width:100%  "> -->
    <p:menubar autoDisplay="false" >

      <p:menuitem value="#{messages.menuHome}" icon="img_home_nav" url="http://localhost:8080/himemysqltest/view/home.seam">
        <!-- <s:link id="menubarHome" view="#{configAction.getViewUrl('Home')}" value="#{messages.Home}" 
          propagation="none"  styleClass="ui-menuitem-link ui-corner-all" >
             <h:graphicImage value="./../img/eclipse/home_nav.gif"/>
        </s:link> -->
      </p:menuitem>

      <!--   <p:menuitem url="http://localhost:8080/himemysqltest/view/home.seam" value="#{messages.Home}" icon="ui-icon-home" /> -->

      <p:submenu label="#{messages.submenuMarketVariable}" icon="img_markget_variable" >
        <p:submenu label="#{messages.submenuViewHistoryData}">
          <p:menuitem>
            <s:link id="menuAllMarketVariables" view="#{configAction.getViewUrl('ViewHistoryData')}"
              value="#{messages.menuAllMarketVariables}" propagation="none" styleClass="ui-menuitem-link ui-corner-all">
              <f:param name="flagDataTable" value="All" />
            </s:link>
          </p:menuitem>

          <p:menuitem>
            <s:link id="menuOnlyRiskFactors" view="#{configAction.getViewUrl('ViewHistoryData')}"
              value="#{messages.menubOnlyRiskFactors}" propagation="none"
              styleClass="ui-menuitem-link ui-corner-all">
              <f:param name="flagDataTable" value="Rf" />
            </s:link>
          </p:menuitem>
          <p:menuitem>
            <s:link id="menuOnlyProduct" view="#{configAction.getViewUrl('ViewHistoryData')}"
              value="#{messages.menuOnlyProduct}" propagation="none"
              styleClass="ui-menuitem-link ui-corner-all">
              <f:param name="flagDataTable" value="Prod" />
            </s:link>
          </p:menuitem>
        </p:submenu>

        <p:submenu label="#{messages.submenuProduct}">
          <p:menuitem>
            <s:link id="menubarAllProduct" view="#{configAction.getViewUrl('ProductSelect')}"
              value="#{messages.menubarProduct}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
          </p:menuitem>
          <p:menuitem>
            <s:link id="menubarHoldingProduct" view="#{configAction.getViewUrl('Product')}"
              value="#{conversation.viewId}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
          </p:menuitem>
        </p:submenu>

        <p:separator />
        <p:menuitem>
          <s:link id="menubarVcvMatrix" view="#{configAction.getViewUrl('VcvMatrix')}"
            value="#{messages.menubarVcvMatrix}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
        </p:menuitem>
        <p:menuitem>
          <s:link id="menubarFxMatrix" view="#{configAction.getViewUrl('ForexMatrix')}"
            value="#{messages.menubarFxMatrix}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
        </p:menuitem>
      </p:submenu>


      <p:submenu label="#{messages.portfolioAnalysis}" icon="img_chart_org">

        <p:menuitem>
          <s:link id="menubarReturnRisk" view="#{configAction.getViewUrl('RiskAnalysis')}"
            value="#{messages.menubarReturnRisk}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
        </p:menuitem>

        <p:separator />
        <p:menuitem value="#{messages.selectHierarchies}" onclick="wgDialogHierSelect.show()" icon="ui-icon-document"
          disabled="#{conversation.viewId == '/view/home.xhtml'}" />

        <p:menuitem value="#{messages.createPortfolio}" onclick="wgDialogPortCreate.show()" icon="ui-icon-circle-plus"
          disabled="#{not identity.loggedIn}" />



        <p:menuitem value="Show" onclick="test.show();" />
      </p:submenu>



      <p:submenu label="#{messages.whatIf}" icon="img_whatIf">
        <p:menuitem>
          <s:link id="menubarWhatIf" view="#{configAction.getViewUrl('RiskAnalysis')}"
            value="#{messages.menubarReturnRisk}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
        </p:menuitem>
      </p:submenu>



      <p:submenu label="#{messages.limitManagement}" icon="img_limit">
        <p:menuitem>
          <s:link id="menubarLimitManagement" view="#{configAction.getViewUrl('RiskAnalysis')}"
            value="#{messages.menubarReturnRisk}" propagation="none" styleClass="ui-menuitem-link ui-corner-all" />
        </p:menuitem>
      </p:submenu>


      <p:submenu label="#{messages.help}" icon="img_help">
        <p:menuitem url="http://localhost:8080/himemysqltest/view/v800Settings.seam" value="#{messages.settings}"
          icon="img_setting">
          <s:conversationPropagation type="begin" />
        </p:menuitem>


        <p:submenu label="Search" icon="ui-icon-search">
          <p:submenu label="Text">
            <p:menuitem value="Workspace" url="#" />
          </p:submenu>
          <p:menuitem value="File" url="#" />
        </p:submenu>
        <p:separator />
        <p:menuitem value="#{messages.aboutUs}" url="#" />
      </p:submenu>




      <f:facet name="options">
        <!-- <p:panelGrid columns="2" style="padding: 10px; border:none; float:right ;"> -->
        <p:panelGrid columns="2">

          <s:link id="toolbarLogin" view="/view/login.xhtml" value="#{messages.logIn}"
            rendered="#{not identity.loggedIn}" propagation="none" />

          <s:link id="toolbarLogout" view="/view/home.xhtml" action="#{identity.logout}" value="#{messages.logOut}"
            rendered="#{identity.loggedIn}" propagation="none" />

          <h:outputText id="toolbarWelcome" value="#{messages.signedAs}: #{credentials.username}"
            rendered="#{identity.loggedIn}" />
          <h:outputText id="toolbarWelcome1" value="" rendered="#{not identity.loggedIn}" />


          <h:outputText value="#{messages.baseDate}:" />
          <p:calendar id="endDate" value="#{basedateBean.date1}" showButtonPanel="true" pattern="yyyy/MM/dd"
            navigator="true">
            <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form) " />
          </p:calendar>
        </p:panelGrid>
      </f:facet>

    </p:menubar>

    <p:dialog widgetVar="test" header="This is a test" />
    <!-- <p:panelGrid columns="2" style="padding: 10px; border:none; float:right">
      <h:outputText value="#{messages.baseDate}:" />
      <p:calendar id="endDate" value="#{basedateBean.date1}" showButtonPanel="true" pattern="yyyy/MM/dd"
        navigator="true">
        <p:ajax event="dateSelect" listener="#{basedateBean.handleDateSelect}" update="@(form) " />
      </p:calendar>
    </p:panelGrid> -->

  </h:form>
</ui:composition>

